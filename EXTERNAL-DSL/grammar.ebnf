(* Basic definitions *)
<STRING> ::= <LETTER> (<LETTER> | <DIGIT> | "_")*  
<NUMBER> ::= <DIGIT>+ ("." <DIGIT>+)?  
<DIGIT> ::= "0" | "1" | "2" | "3" | "4" | "5" | "6" | "7" | "8" | "9"  
<BOOLEAN> ::= "true" | "false"  
<LETTER> ::= "a" | "b" | "c" | "d" | "e" | "f" | "g" | "h" | "i" | "j" | "k" | "l" | "m" | "n" | "o" | "p" | "q" | "r" | "s" | "t" | "u" | "v" | "w" | "x" | "y" | "z" 
           | "A" | "B" | "C" | "D" | "E" | "F" | "G" | "H" | "I" | "J" | "K" | "L" | "M" | "N" | "O" | "P" | "Q" | "R" | "S" | "T" | "U" | "V" | "W" | "X" | "Y" | "Z"


<Entity> ::= "entity" <EntityName> "{" <EntityAttributes> <EntityBody> "}"
<EntityName> ::= "Mission" | "Drone" | "EnergyModel" | "Phase" | "SubPhase" | "Action" | "MissionEvent" | "Constraint" | "RegulatoryConstraint" | "SafetyConstraint"
<EntityAttributes> ::= <MissionAttributes> | <DroneAttributes> | <EnergyModelAttributes> | <PhaseAttributes> | <SubPhaseAttributes> | <ActionAttributes> | <MissionEventAttributes> | <RegulatoryConstraintAttributes> | <SafetyConstraintAttributes>
<EntityBody> ::= (<EntityElement>)*
<EntityElement> ::= <Attribute> | <SubEntity>
<SubEntity> ::= <Entity>

(* Mission-specific attributes *)
<MissionAttributes> ::= "missionID" "=" <STRING> "," "missionType" "=" <STRING> "," "startLocation" "=" <STRING> "," "endLocation" "=" <STRING> "," "priority" "=" <NUMBER> "," "estimatedTime" "=" <NUMBER> "," "addDrone" "=" <SubEntity> "," "addPhase" "=" <SubEntity> "," "addConstraint" "=" <SubEntity> "," "addEvent" "=" <SubEntity>

(* Drone-specific attributes *)
<DroneAttributes> ::= "modelType" "=" <STRING> "," "role" "=" <STRING> "," "batteryCapacity" "=" <NUMBER> "," "maxFlightTime" "=" <NUMBER> "," "payloadCapacity" "=" <NUMBER> "," "energyModel" "=" <EnergyModel>

(* EnergyModel-specific attributes *)
<EnergyModelAttributes> ::= "consumptionRate" "=" <NUMBER> "," "batteryHealth" "=" <NUMBER> "," "rechargeTime" "=" <NUMBER>

(* Phase-specific attributes *)
<PhaseAttributes> ::= "phaseType" "=" <STRING> "," "energyUsage" "=" <NUMBER> "," "addSubPhase" "=" <SubPhase>

(* SubPhase-specific attributes *)
<SubPhaseAttributes> ::= "subPhaseType" "=" <STRING> "," "duration" "=" <NUMBER> "," "addAction" "=" <Action>

(* Action-specific attributes *)
<ActionAttributes> ::= "actionType" "=" <STRING> "," "inputOutput" "=" <STRING> "," "energyUsage" "=" <NUMBER>

(* MissionEvent-specific attributes *)
<MissionEventAttributes> ::= "eventType" "=" <STRING> "," "impactLevel" "=" <NUMBER> "," "responseAction" "=" <STRING>

(* SafetyConstraint-specific attributes *)
<SafetyConstraintAttributes> ::= "minBattery" "=" <NUMBER> "," "maxWindSpeed" "=" <NUMBER>

(* RegulatoryConstraint-specific attributes *)
<RegulatoryConstraintAttributes> ::= "flightPermission" "=" <BOOLEAN> "," "altitudeLimit" "=" <NUMBER>


(* Example of the DSL *)
entity Mission {
    id = "M001",
    name = "Medical Delivery",
    setStartLocation = "Hospital A",
    setEndLocation = "Clinic B",
    setPriority = 2,
    setEstimatedTime = 1.5,

    addDrone = Drone { 
        name = "MedFly-X1", 
        weight = 80, 
        speed = 60, 
        capacity = 5, 
        type = "Medical Transport", 
        energyModel = EnergyModel { 
            energy = 5, 
            efficiency = 90, 
            capacity = 2 
        } 
    },
    addConstraint = SafetyConstraint(25, 12),
    addConstraint = RegulatoryConstraint(true, 150),

    addPhase = Phase { 
        name = "Takeoff", 
        energyUsage = 4, 
        addSubPhase = SubPhase { 
            name = "InitialLift", 
            weight = 20, 
            addAction = Action { 
                name = "StartMotors", 
                data = "", 
                duration = 1.5 
            }
            addAction = Action { 
                name = "AdjustMotorSpeed", 
                data = "Sensor Data", 
                duration = 1.5 
            }
        },
        addSubPhase = SubPhase { 
            name = "Rise", 
            weight = 20, 
            addAction = Action { 
                name = "AdjustAltitude", 
                data = "Sensor Data", 
                duration = 1.0 
            }
        }
    },

    addPhase = Phase { 
        name = "Cruise", 
        energyUsage = 6, 
        addSubPhase = SubPhase { 
            name = "MaintainSpeed", 
            weight = 60, 
            addAction = Action { 
                name = "AdjustAltitude", 
                data = "Sensor Data", 
                duration = 2.0 
            }
        }
    },

    addPhase = Phase { 
        name = "Landing", 
        energyUsage = 3, 
        addSubPhase = SubPhase { 
            name = "FinalApproach", 
            weight = 20, 
            addAction = Action { 
                name = "DestinationLock", 
                data = "Sensor Data", 
                duration = 1.0 
            }
        },
        addSubPhase = SubPhase { 
            name = "LandingAndShutdown", 
            weight = 20, 
            addAction = Action { 
                name = "AdjustMotorSpeed", 
                data = "Sensor Data", 
                duration = 1.0 
            },
            addAction = Action { 
                name = "DeployLandingGear", 
                data = "Actuator", 
                duration = 1.0 
            }
        }
    },

    addEvent = MissionEvent { 
        name = "BatteryLowAlert", 
        level = 3, 
        action = "Return to Base" 
    },
    addEvent = MissionEvent { 
        name = "RestrictedAirspaceWarning", 
        level = 2, 
        action = "Adjust Flight Path" 
    }
}